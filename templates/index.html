<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Song of the Day</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--
      COLORS:
      red: #E63946 rgb(230, 57, 70)
      cream: #F1FAEE rgb(105, 5, 98)
      light blue: #A8DADC rgb(168, 218, 220)
      blue: #457B9D rgb(69, 123, 157)
      dark blue: #1D3557 rgb(29, 53, 87)
    -->
    <!-- Add your CSS link here for styling -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/test.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined">
    <link href="https://fonts.googleapis.com/css2?family=Poppins" rel="stylesheet">
    <style>
      /* Your CSS styles go here */
    </style>
</head>
<body>
    <!-- Header section -->
    <ul>
        <li><img src="{{ url_for('static', filename='images/logo.png')}}" height="25" width="25" style="padding-right: 10px; padding-left: 10px; padding-top: 10px; padding-bottom: 10px;"></li>
        <li><a class="active" href="#home">Home</a></li>
        <li><a href="#archive">Archive</a></li>

    </ul>
    <h1 style="text-align: center;">Song of the Day</h1>

    <!-- Main content -->
    <!-- Search bar for songs -->
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search for songs...">
        <button onclick="searchSongs()">
            <span class="material-symbols-outlined" style="color: #F1FAEE;">
                search
            </span>
        </button>
    </div>

    <!-- Testing area -->
    <div class='parent flex-parent'>
        <div class='child flex-child' id="searchResults">
          <div class="item">
            <div class="image">
              <img src="https://i.scdn.co/image/ab67616d0000b27395ca6a9b4083a86c149934ae" width="100" height="100">
            </div>
            <div class="data">
              <h3 style="font-size: 20px; margin: 0px;">Daylight</h3>
              <p style="margin: 0px;">By: David Kushner</p>
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19" fill="none">
                <path d="M9.49999 0C4.25627 0 0 4.25627 0 9.5C0 14.7551 4.25627 19 9.49999 19C14.7551 19 19 14.7437 19 9.5C19.0113 4.25627 14.7551 0 9.49999 0ZM13.8584 13.7109C13.6882 13.9946 13.325 14.0741 13.0412 13.9038C10.8052 12.5418 8.00178 12.2354 4.68757 12.9845C4.36977 13.0526 4.05197 12.8596 3.98387 12.5418C3.91577 12.224 4.10872 11.9062 4.42652 11.8381C8.04718 11.0096 11.1571 11.3614 13.6541 12.8937C13.9492 13.0639 14.04 13.4271 13.8584 13.7109ZM15.0275 11.1231C14.8118 11.4749 14.3578 11.5771 14.006 11.3728C11.4522 9.7951 7.55913 9.3411 4.54002 10.2605C4.14277 10.374 3.73417 10.1583 3.62066 9.7724C3.50716 9.37515 3.72281 8.96655 4.12007 8.85305C7.57048 7.80884 11.8608 8.30824 14.8005 10.1129C15.1296 10.3172 15.2431 10.7712 15.0275 11.1231ZM15.1296 8.42174C12.0651 6.60574 7.01433 6.43548 4.08602 7.32079C3.62066 7.46834 3.12126 7.19594 2.97371 6.73059C2.82616 6.26523 3.09856 5.76583 3.56391 5.61828C6.92353 4.59677 12.5077 4.80108 16.0263 6.88949C16.4462 7.13919 16.5824 7.68399 16.3327 8.10394C16.0944 8.53525 15.5496 8.67145 15.1296 8.42174Z" fill="#E63946"/>
              </svg>
            </div>
          </div>
        </div>
        <div class='child flex-child'>B</div>
      </div>
    
    <br>
    <!-- Song of the Day section -->
    <div class="song-of-the-day">
      <h2>Song of the Day</h2>
      <!-- Display song details here -->
      <p>Title: Song Title</p>
      <p>Artist: Artist Name</p>
      <img src="album_cover.jpg" alt="Album Cover">
      <button onclick="addSong()">Add Song</button>
    </div>
</body>
<script>
    // JavaScript functions for search and adding songs

    function searchSongs() {
        let x = document.getElementById("searchInput").value;
        console.log(x)
        console.log(document.getElementById("searchResults").textContent);
        fetch('http://192.168.4.44:5000/search/' + x) .then(response => response.json()) .then(data => {
            document.getElementById("searchResults").textContent = "";
            name = data["tracks"]["items"][0]["name"];
            popularity = data["tracks"]["items"][0]["popularity"];
            duration = data["tracks"]["items"][0]["duration_ms"];
            explicit = data["tracks"]["items"][0]["explicit"];
            artist = data["tracks"]["items"][0]["artists"][0]["name"];
            image_pic = data["tracks"]["items"][0]["album"]["images"][0]["url"];

            document.getElementById("searchResults").textContent

            item = document.createElement("div");
            item.id = "item"
            item.classList.add("item")

            image = document.createElement("div");
            image.id = "image";

            data = document.createElement("div");
            data.id = "data"
            data.classList.add("data")

            img = document.createElement('img');
            img.src = image_pic; img.height = "100"; img.width = "100";

            songName = document.createElement("h3");
            songName.textContent = name; songName.style = "font-size: 20px; margin: 0px;";

            songBy = document.createElement("p");
            songBy.textContent = "By: " + artist; songBy.style = "margin: 0px;"

            icon = document.createElement("img")
            icon.src = "{{ url_for('static', filename='images/spotify_logo.png') }}"; icon.width = "19"; icon.height = "19";
            //{{ url_for('static', filename='images/logo.png')}}

            //making all the div tags
            document.getElementById("searchResults").appendChild(item);
            document.getElementById("item").appendChild(image);
            document.getElementById("item").appendChild(data);

            //adding image to image div tag
            document.getElementById('image').appendChild(img);

            //adding song name to data tag
            document.getElementById("data").appendChild(songName);
            document.getElementById("data").appendChild(songBy);
            document.getElementById("data").appendChild(icon);
        }) .catch(error => console.error(error)); 
    }

    function addSong() {
      // Implement functionality to add a song
      // This might open a form for user input or trigger an action to add the song
    }
</script>
</html>
